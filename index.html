<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰©æ–™ä½ç½®æŸ¥è¯¢ç³»ç»Ÿ</title>
    <style>
        :root {
            --primary-color: #1890ff;
            --success-color: #52c41a;
            --warning-color: #faad14;
            --error-color: #ff4d4f;
            --text-color: #333;
            --text-secondary: #666;
            --border-color: #d9d9d9;
            --background-color: #f5f5f5;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), #40a9ff);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .search-section {
            padding: 30px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .search-input {
            flex: 1;
            padding: 16px 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
        }
        
        .search-types {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-type-btn {
            padding: 10px 24px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .search-type-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .search-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary-color), #40a9ff);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);
        }
        
        .search-btn:active {
            transform: translateY(0);
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .results-section {
            padding: 0 30px 30px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .result-count {
            padding: 20px 0;
            font-size: 16px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .result-item {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .result-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .code-badge {
            background: linear-gradient(135deg, var(--success-color), #73d13d);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 16px;
        }
        
        .location-badge {
            background: linear-gradient(135deg, var(--primary-color), #40a9ff);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            min-width: 100px;
            text-align: center;
        }
        
        .location-badge.missing {
            background: linear-gradient(135deg, var(--error-color), #ff7875);
        }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 8px;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--text-secondary);
            min-width: 80px;
            margin-right: 10px;
        }
        
        .detail-value {
            flex: 1;
            word-break: break-word;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }
        
        .no-results-icon {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 14px;
            border-top: 1px solid var(--border-color);
            background: var(--background-color);
        }
        
        .update-time {
            margin-top: 5px;
            font-size: 12px;
        }
        
        /* æ‰‹æœºç«¯é€‚é… */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 8px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .search-section {
                padding: 20px;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .search-types {
                justify-content: center;
            }
            
            .search-type-btn {
                padding: 8px 16px;
                font-size: 13px;
            }
            
            .result-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
            
            .stats {
                gap: 10px;
            }
            
            .stat-item {
                padding: 6px 12px;
                font-size: 12px;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ç‰©æ–™ä½ç½®æŸ¥è¯¢ç³»ç»Ÿ</h1>
            <div class="subtitle">å¿«é€ŸæŸ¥è¯¢ç‰©æ–™ç¼–ç ã€ä½ç½®ä¿¡æ¯åŠå·¥ä½ä¿¡æ¯</div>
            <div class="stats">
                <div class="stat-item" id="totalCount">æ€»è®°å½•ï¼šåŠ è½½ä¸­...</div>
                <div class="stat-item" id="updateTime">æ›´æ–°æ—¶é—´ï¼šåŠ è½½ä¸­...</div>
                <div class="stat-item" id="matchRate">åŒ¹é…ç‡ï¼šåŠ è½½ä¸­...</div>
            </div>
        </div>
        
        <div class="search-section">
            <div class="search-box">
                <input type="text" 
                       id="searchInput" 
                       class="search-input" 
                       placeholder="è¯·è¾“å…¥ç‰©æ–™ç¼–ç ã€åç§°ã€å·¥ä½åç§°æˆ–ä½ç½®ç¼–å·..."
                       onkeypress="if(event.key === 'Enter') performSearch()">
            </div>
            
            <div class="search-types">
                <button class="search-type-btn active" onclick="setSearchType('all')">ğŸ” ç»¼åˆæœç´¢</button>
                <button class="search-type-btn" onclick="setSearchType('code')">ğŸ“‹ æŒ‰ç¼–ç </button>
                <button class="search-type-btn" onclick="setSearchType('name')">ğŸ“ æŒ‰åç§°</button>
                <button class="search-type-btn" onclick="setSearchType('station')">ğŸ­ æŒ‰å·¥ä½</button>
                <button class="search-type-btn" onclick="setSearchType('location')">ğŸ“ æŒ‰ä½ç½®</button>
            </div>
            
            <button class="search-btn" onclick="performSearch()" id="searchButton">
                <span id="searchButtonText">å¼€å§‹æŸ¥è¯¢</span>
                <span id="searchButtonLoading" style="display: none;">
                    <span class="loading-spinner"></span>æŸ¥è¯¢ä¸­...
                </span>
            </button>
        </div>
        
        <div class="results-section">
            <div id="resultsContainer">
                <div class="no-results">
                    <div class="no-results-icon">ğŸ”</div>
                    <h3>è¯·è¾“å…¥æŸ¥è¯¢æ¡ä»¶</h3>
                    <p>åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ç¼–ç ã€åç§°ã€å·¥ä½æˆ–ä½ç½®ä¿¡æ¯è¿›è¡ŒæŸ¥è¯¢</p>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2024 ç‰©æ–™æŸ¥è¯¢ç³»ç»Ÿ | ä»…ä¾›å†…éƒ¨ä½¿ç”¨</p>
            <div class="update-time" id="footerUpdateTime">æ•°æ®åŠ è½½ä¸­...</div>
        </div>
    </div>

    <script>
        let searchData = null;
        let currentSearchType = 'all';
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–...');
            loadData();
            setupEventListeners();
        });
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            const searchInput = document.getElementById('searchInput');
            
            // å®æ—¶æœç´¢ï¼ˆé˜²æŠ–å¤„ç†ï¼‰
            let searchTimer;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimer);
                searchTimer = setTimeout(function() {
                    if (searchInput.value.trim().length >= 2) {
                        performSearch();
                    }
                }, 500);
            });
            
            // æ¸…é™¤æŒ‰é’®
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Escape') {
                    searchInput.value = '';
                    showWelcomeMessage();
                }
            });
        }
        
        // åŠ è½½æ•°æ®
        async function loadData() {
            try {
                console.log('å¼€å§‹åŠ è½½æ•°æ®...');
                const response = await fetch('data.json');
                
                if (!response.ok) {
                    throw new Error(`HTTPé”™è¯¯: ${response.status}`);
                }
                
                searchData = await response.json();
                console.log('æ•°æ®åŠ è½½æˆåŠŸ:', searchData.total_items, 'æ¡è®°å½•');
                
                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                document.getElementById('totalCount').textContent = 
                    `æ€»è®°å½•ï¼š${searchData.total_items.toLocaleString()} æ¡`;
                document.getElementById('updateTime').textContent = 
                    `æ›´æ–°æ—¶é—´ï¼š${searchData.last_update}`;
                document.getElementById('matchRate').textContent = 
                    `åŒ¹é…ç‡ï¼š${searchData.match_rate}`;
                document.getElementById('footerUpdateTime').textContent = 
                    `æœ€åæ›´æ–°ï¼š${searchData.last_update}`;
                
            } catch (error) {
                console.error('æ•°æ®åŠ è½½å¤±è´¥:', error);
                
                document.getElementById('totalCount').textContent = 'æ€»è®°å½•ï¼šåŠ è½½å¤±è´¥';
                document.getElementById('updateTime').textContent = 'æ›´æ–°æ—¶é—´ï¼šåŠ è½½å¤±è´¥';
                document.getElementById('matchRate').textContent = 'åŒ¹é…ç‡ï¼šåŠ è½½å¤±è´¥';
                document.getElementById('footerUpdateTime').textContent = 'æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢';
                
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                const resultsContainer = document.getElementById('resultsContainer');
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">âŒ</div>
                        <h3>æ•°æ®åŠ è½½å¤±è´¥</h3>
                        <p>é”™è¯¯ä¿¡æ¯ï¼š${error.message}</p>
                        <p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–è”ç³»ç®¡ç†å‘˜</p>
                        <button onclick="location.reload()" style="
                            margin-top: 20px;
                            padding: 10px 20px;
                            background: #1890ff;
                            color: white;
                            border: none;
                            border-radius: 4px;
                            cursor: pointer;
                        ">åˆ·æ–°é¡µé¢</button>
                    </div>
                `;
            }
        }
        
        // è®¾ç½®æœç´¢ç±»å‹
        function setSearchType(type) {
            currentSearchType = type;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.search-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // æ›´æ–°è¾“å…¥æ¡†æç¤º
            const input = document.getElementById('searchInput');
            const placeholderMap = {
                'all': 'è¯·è¾“å…¥ç‰©æ–™ç¼–ç ã€åç§°ã€å·¥ä½åç§°æˆ–ä½ç½®ç¼–å·...',
                'code': 'è¯·è¾“å…¥ç‰©æ–™ç¼–ç ...',
                'name': 'è¯·è¾“å…¥ç‰©æ–™åç§°...',
                'station': 'è¯·è¾“å…¥å·¥ä½åç§°...',
                'location': 'è¯·è¾“å…¥ä½ç½®ç¼–å·...'
            };
            input.placeholder = placeholderMap[type] || placeholderMap.all;
            
            // å¦‚æœè¾“å…¥æ¡†æœ‰å†…å®¹ï¼Œç«‹å³æœç´¢
            if (input.value.trim()) {
                performSearch();
            }
        }
        
        // æ‰§è¡Œæœç´¢
        function performSearch() {
            if (!searchData) {
                alert('æ•°æ®æ­£åœ¨åŠ è½½ä¸­ï¼Œè¯·ç¨å€™...');
                return;
            }
            
            const searchTerm = document.getElementById('searchInput').value.trim();
            
            if (!searchTerm) {
                showWelcomeMessage();
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const searchButton = document.getElementById('searchButton');
            const searchButtonText = document.getElementById('searchButtonText');
            const searchButtonLoading = document.getElementById('searchButtonLoading');
            
            searchButtonText.style.display = 'none';
            searchButtonLoading.style.display = 'inline';
            searchButton.disabled = true;
            
            // å»¶è¿Ÿæ‰§è¡Œæœç´¢ï¼Œè®©åŠ è½½çŠ¶æ€æ˜¾ç¤ºä¸€ä¼šå„¿
            setTimeout(() => {
                try {
                    const results = searchItems(searchTerm);
                    displayResults(results);
                } catch (error) {
                    console.error('æœç´¢å‡ºé”™:', error);
                    showError('æœç´¢è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯');
                } finally {
                    // æ¢å¤æŒ‰é’®çŠ¶æ€
                    searchButtonText.style.display = 'inline';
                    searchButtonLoading.style.display = 'none';
                    searchButton.disabled = false;
                }
            }, 300);
        }
        
        // æœç´¢é€»è¾‘
        function searchItems(searchTerm) {
            const lowerSearchTerm = searchTerm.toLowerCase();
            const results = [];
            const searchTerms = lowerSearchTerm.split(/\s+/); // æ”¯æŒå¤šä¸ªå…³é”®è¯
            
            console.log(`å¼€å§‹æœç´¢: "${searchTerm}"ï¼Œç±»å‹: ${currentSearchType}`);
            
            for (const item of searchData.items) {
                let match = false;
                
                switch(currentSearchType) {
                    case 'code':
                        match = item.ç¼–ç  && item.ç¼–ç .toLowerCase().includes(lowerSearchTerm);
                        break;
                    case 'name':
                        match = item.åç§° && item.åç§°.toLowerCase().includes(lowerSearchTerm);
                        break;
                    case 'station':
                        match = item.å·¥ä½åç§° && item.å·¥ä½åç§°.toLowerCase().includes(lowerSearchTerm);
                        break;
                    case 'location':
                        match = (item.ä½ç½®ç¼–å· && item.ä½ç½®ç¼–å·.toLowerCase().includes(lowerSearchTerm)) ||
                               (item.ä½ç½®åç§° && item.ä½ç½®åç§°.toLowerCase().includes(lowerSearchTerm));
                        break;
                    default: // all
                        match = (
                            (item.ç¼–ç  && item.ç¼–ç .toLowerCase().includes(lowerSearchTerm)) ||
                            (item.åç§° && item.åç§°.toLowerCase().includes(lowerSearchTerm)) ||
                            (item.å·¥ä½åç§° && item.å·¥ä½åç§°.toLowerCase().includes(lowerSearchTerm)) ||
                            (item.ä½ç½®ç¼–å· && item.ä½ç½®ç¼–å·.toLowerCase().includes(lowerSearchTerm)) ||
                            (item.ä½ç½®åç§° && item.ä½ç½®åç§°.toLowerCase().includes(lowerSearchTerm))
                        );
                        
                        // å¤šå…³é”®è¯æœç´¢ï¼ˆANDé€»è¾‘ï¼‰
                        if (searchTerms.length > 1) {
                            match = searchTerms.every(term => {
                                return (
                                    (item.ç¼–ç  && item.ç¼–ç .toLowerCase().includes(term)) ||
                                    (item.åç§° && item.åç§°.toLowerCase().includes(term)) ||
                                    (item.å·¥ä½åç§° && item.å·¥ä½åç§°.toLowerCase().includes(term)) ||
                                    (item.ä½ç½®ç¼–å· && item.ä½ç½®ç¼–å·.toLowerCase().includes(term)) ||
                                    (item.ä½ç½®åç§° && item.ä½ç½®åç§°.toLowerCase().includes(term))
                                );
                            });
                        }
                }
                
                if (match) {
                    results.push(item);
                }
            }
            
            console.log(`æœç´¢å®Œæˆï¼Œæ‰¾åˆ° ${results.length} æ¡ç»“æœ`);
            return results;
        }
        
        // æ˜¾ç¤ºç»“æœ
        function displayResults(results) {
            const container = document.getElementById('resultsContainer');
            
            if (results.length === 0) {
                container.innerHTML = `
                    <div class="no-results fade-in">
                        <div class="no-results-icon">ğŸ”</div>
                        <h3>æœªæ‰¾åˆ°åŒ¹é…çš„ç»“æœ</h3>
                        <p>è¯·å°è¯•ï¼š</p>
                        <ul style="text-align: left; display: inline-block; margin-top: 10px;">
                            <li>æ£€æŸ¥è¾“å…¥çš„å…³é”®è¯æ˜¯å¦æ­£ç¡®</li>
                            <li>å°è¯•å…¶ä»–æœç´¢ç±»å‹</li>
                            <li>ä½¿ç”¨æ›´ç®€å•çš„å…³é”®è¯</li>
                            <li>è”ç³»ç®¡ç†å‘˜ç¡®è®¤æ•°æ®å®Œæ•´æ€§</li>
                        </ul>
                    </div>
                `;
                return;
            }
            
            // æŒ‰ç¼–ç æ’åº
            results.sort((a, b) => {
                if (a.ç¼–ç  && b.ç¼–ç ) {
                    return a.ç¼–ç .localeCompare(b.ç¼–ç );
                }
                return 0;
            });
            
            let html = `
                <div class="result-count fade-in">
                    æ‰¾åˆ° <strong>${results.length}</strong> æ¡åŒ¹é…ç»“æœ
                    <span style="font-size: 14px; color: #666; margin-left: 10px;">
                        ï¼ˆæœç´¢ç±»å‹ï¼š${getSearchTypeName(currentSearchType)}ï¼‰
                    </span>
                </div>
            `;
            
            results.forEach((item, index) => {
                const locationClass = item.ä½ç½®ç¼–å· && item.ä½ç½®ç¼–å· !== 'æœªæ‰¾åˆ°' ? '' : 'missing';
                const locationText = item.ä½ç½®ç¼–å· && item.ä½ç½®ç¼–å· !== 'æœªæ‰¾åˆ°' ? item.ä½ç½®ç¼–å· : 'æœªåˆ†é…ä½ç½®';
                
                html += `
                    <div class="result-item fade-in" style="animation-delay: ${index * 0.05}s">
                        <div class="result-header">
                            <div class="code-badge">${escapeHtml(item.ç¼–ç )}</div>
                            <div class="location-badge ${locationClass}">${escapeHtml(locationText)}</div>
                        </div>
                        
                        <div class="result-details">
                            <div class="detail-row">
                                <span class="detail-label">ç‰©æ–™åç§°ï¼š</span>
                                <span class="detail-value">${escapeHtml(item.åç§° || 'æœªå¡«å†™')}</span>
                            </div>
                            
                            <div class="detail-row">
                                <span class="detail-label">å·¥ä½åç§°ï¼š</span>
                                <span class="detail-value">${escapeHtml(item.å·¥ä½åç§° || 'æœªå¡«å†™')}</span>
                            </div>
                            
                            <div class="detail-row">
                                <span class="detail-label">åº“ç®¡äººå‘˜ï¼š</span>
                                <span class="detail-value">${escapeHtml(item.åº“ç®¡äººå‘˜ || 'æœªæŒ‡å®š')}</span>
                            </div>
                            
                            ${item.ä½ç½®åç§° ? `
                            <div class="detail-row">
                                <span class="detail-label">ä½ç½®åç§°ï¼š</span>
                                <span class="detail-value">${escapeHtml(item.ä½ç½®åç§°)}</span>
                            </div>
                            ` : ''}
                            
                            <div class="detail-row">
                                <span class="detail-label">æ¥æºæ–‡ä»¶ï¼š</span>
                                <span class="detail-value">${escapeHtml(item.æºæ–‡ä»¶ || 'æœªçŸ¥')}</span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            
            // è‡ªåŠ¨æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            setTimeout(() => {
                container.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
        
        // æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        function showWelcomeMessage() {
            const container = document.getElementById('resultsContainer');
            container.innerHTML = `
                <div class="no-results fade-in">
                    <div class="no-results-icon">ğŸ­</div>
                    <h3>ç‰©æ–™ä½ç½®æŸ¥è¯¢ç³»ç»Ÿ</h3>
                    <p>è¯·è¾“å…¥æŸ¥è¯¢æ¡ä»¶å¼€å§‹æœç´¢</p>
                    <div style="margin-top: 30px; text-align: left; display: inline-block;">
                        <h4>æœç´¢æç¤ºï¼š</h4>
                        <ul style="margin-top: 10px; padding-left: 20px;">
                            <li>æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œå¦‚è¾“å…¥éƒ¨åˆ†ç¼–ç </li>
                            <li>å¤šä¸ªå…³é”®è¯ç”¨ç©ºæ ¼éš”å¼€ï¼ˆANDæœç´¢ï¼‰</li>
                            <li>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®åˆ‡æ¢æœç´¢ç±»å‹</li>
                            <li>æŒ‰ESCé”®å¯å¿«é€Ÿæ¸…é™¤æœç´¢æ¡†</li>
                        </ul>
                    </div>
                </div>
            `;
        }
        
        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function showError(message) {
            const container = document.getElementById('resultsContainer');
            container.innerHTML = `
                <div class="no-results fade-in">
                    <div class="no-results-icon">âŒ</div>
                    <h3>æœç´¢å‡ºé”™</h3>
                    <p>${escapeHtml(message)}</p>
                    <button onclick="showWelcomeMessage()" style="
                        margin-top: 20px;
                        padding: 10px 20px;
                        background: #1890ff;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    ">è¿”å›</button>
                </div>
            `;
        }
        
        // è·å–æœç´¢ç±»å‹åç§°
        function getSearchTypeName(type) {
            const names = {
                'all': 'ç»¼åˆæœç´¢',
                'code': 'æŒ‰ç¼–ç ',
                'name': 'æŒ‰åç§°',
                'station': 'æŒ‰å·¥ä½',
                'location': 'æŒ‰ä½ç½®'
            };
            return names[type] || 'ç»¼åˆæœç´¢';
        }
        
        // HTMLè½¬ä¹‰ï¼Œé˜²æ­¢XSS
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>